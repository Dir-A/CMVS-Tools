# CmvsFileHook
Hook CMVS Engine FileRead Path  

Supported Versions  
3.80-3.76  
3.42-3.20  
2.10-1.10  
[Click here for details](https://github.com/Dir-A/CMVS-Tools/blob/main/CmvsTools/CmvsFileHook/CmvsFileHook.h)

## Tested Games
クナド国記 PKG  
青春フラジャイル PKG  
リアライブ PKG  
アオイトリ PKG  
アマツツミ PKG  
ハピメアFD ハピメアＷパック PKG  
クロノクロック PKG  
ハピメア PKG  
しあわせ家族部 PKG  
未来ノスタルジア PKG  

## About
A Simple Dll Makes CMVS Engine Read Files Without Repack  

![image](https://github.com/Dir-A/CmvsFileHook/blob/main/image/CmvsFileHook_test.png)

Dump File(Undergoing testing and refinement)

![image](https://github.com/Dir-A/CmvsFileHook/blob/main/image/CmvsFileHook_test1.png)

# CmvsExtract
CMVS Engine File Extract (Dynamic)  

I'll refine it when I can, it's just a demo for now

![image](https://github.com/Dir-A/CmvsFileHook/blob/main/image/CmvsDynamic_test.png)

# PS3TextEditor
Insert text at the end of the script file while modifying the address    

Support .ps3 .ps2  
Need to decrypt file first  
You can use Garbro to extract script files  
or use [CmvsFileHook](https://github.com/Dir-A/CmvsFileHook)
## Usage
Input 'd' to extract text from .ps3 .ps2 files and save it as .txt  
Input 'i' to insert text from .txt files save it as .ps3.new  

## Tested
クナド国記 PKG  
青春フラジャイル PKG  
リアライブ PKG  
アオイトリ PKG  
アマツツミ PKG  
ハピメアFD ハピメアＷパック PKG  
クロノクロック PKG  
ハピメア PKG  
しあわせ家族部 PKG  
未来ノスタルジア PKG   
![img](https://github.com/Dir-A/CmvsFileHook/blob/main/image/PS3TextEditor_test0.png)
## Reference
https://github.com/xmoeproject/CMVS-Engine/tree/master/Ps3TextDumper  
https://github.com/Yggdrasill-Moe/Niflheim/tree/master/cmvs


# CMV6
Simple Tools About Processing CMVS Engine .CMV Video Format  
[o] Unpack .CMV (CMVS Engine)  
[o] Decode .JBPD (Dynamic For Now)  
[o] Decode .JBPD To BitMap  
[o] Decode .JBPD To WebP  
[o] Repack .CMV  
[o] Make CMVS Engine Play .CMV With WebPDecoder  

# MGV
Processing CMVS Engine's .mgv Video Format File.  

Video File -> theora(.ogv)  
Audio File -> vorbis(.ogg)  

[o] Unpack .mgv  
[o] RePack .mgv  
